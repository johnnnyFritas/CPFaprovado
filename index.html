<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Consultar CPF</title>
    <link rel="stylesheet" href="styles.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Anton&family=Inter:wght@100..900&family=Poppins:ital,wght@0,100;0,200;0,300;0,400;0,500;0,600;0,700;0,800;0,900;1,100;1,200;1,300;1,400;1,500;1,600;1,700;1,800;1,900&display=swap" rel="stylesheet">
</head>
<body>
    <section class="area-de-cpf">
        <div class="area-de-cpf__img-aliança-div">
            <img class="area-de-cpf__img-aliança" src="assets/LogoAlianca.png" alt="">
        </div>
        <div class="area-de-cpf__form-img">
            <img class="area-de-cpf__img-disal" src="assets/LogoDisal.png" alt="">
            <form id="formulario" class="area-de-cpf__form" name="" method="" action="">
                <p>
                    <h2 class="area-de-cpf__form__titulo" id="titulo-form">Consulte seu CPF:</h2>
                </p>
                <p>
                    <input class="area-de-cpf__form__input" oninput="mascara(this)" type="text" name="nome" id="nome" placeholder="Digite o CPF" required/>
                </p>
                <button class="area-de-cpf__form__botao" type="submit">Consultar!</button>
            </form>
            <h2 id="destaque" class="area-de-cpf__premiação margin-animação"><strong class="animação">Parabéns!!</strong></h2>
            <h2 id="premiacao" class="area-de-cpf__premiação margin">Seu CPF foi aprovado para um crédito de até: <h2 id="prem-reais" class="area-de-cpf__premiação"></h2></h2>
        </div>
    </section>
    <!-- Preenche CPF: -->
    <script>
        // Código para preencher o CPF
        function mascara(i){
            var v = i.value;

            if(isNaN(v[v.length-1])){ // impede entrar outro caractere que não seja número
                i.value = v.substring(0, v.length-1);
                return;
            }

            i.setAttribute("maxlength", "14");
            if (v.length == 3 || v.length == 7) i.value += ".";
            if (v.length == 11) i.value += "-";
        }
    </script>
    <!-- Validação do CPF: -->
    <script>
        // Código de validação do CPF
        // Preencher a variavel cred para o credito desejado!
        const premReais = document.getElementById('prem-reais');
        var cred; 
        cred = prompt('Qual o valor do crédito que deseja que apareça na mensagem?');
        premReais.innerHTML = cred + ',00 R$';

        // Funcionamento do Botão.
        const form = document.getElementById('formulario');
        const prem = document.getElementById('premiacao');
        const destaque = document.getElementById('destaque');
        form.addEventListener('submit', function(e) {
            e.preventDefault();
            const [nome] = ['nome'].map(name => form.querySelector(`[name="${name}"]`).value);

            prem.classList.remove('area-de-cpf__premiação');
            prem.classList.add('area-de-cpf__premiação-contemplado');
            destaque.classList.remove('area-de-cpf__premiação');
            destaque.classList.add('area-de-cpf__premiação-contemplado-destaque');  
            premReais.classList.remove('area-de-cpf__premiação');
            premReais.classList.add('area-de-cpf__premiação-contemplado-prem', 'remove-margin', 'animação-prem');
        })
    </script>
</body>
</html>